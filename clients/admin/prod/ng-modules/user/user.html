<div class="container-fluid">

  <h1>Edit User {{user.Username || user.Id}}</h1>

  <hr>
  
  <div class="row">

    <div class="col-sm-3">
      <div class="form-group">
        <label for="user-first-name">First Name</label>
        <input id="user-first-name" type="text" class="form-control" 
               placeholder="Enter first name" ng-model="user.FirstName">
      </div>
    </div>

    <div class="col-sm-3">
      <div class="form-group">
        <label for="user-last-name">Last Name</label>
        <input id="user-last-name" type="text" class="form-control" 
               placeholder="Enter last name" ng-model="user.LastName">
      </div>
    </div>

    <div class="col-sm-3">
      <div class="form-group">
        <label for="user-username">Username</label>
        <input id="user-username" type="text" class="form-control" 
               placeholder="Enter Username" ng-model="user.Username">
      </div>
    </div>

    <div class="col-sm-3">
      <div class="form-group">
        <label for="user-email">E-Mail</label>
        <input id="user-email" type="text" class="form-control"
               placeholder="Enter E-Mail" ng-model="user.Email">
      </div>
    </div>

  </div> <!-- /.row -->

  <div class="row">

    <div class="col-sm-3">
      <div class="form-group">
        <label>User Status</label>
        <div><span class="fa fa-ban"></span> Not verified</div>
      </div>
    </div>

    <div class="col-sm-3 hidden-xs">
      <label>&nbsp;</label>
      <div class="tip">Click on the icon to ban/unban user</div>
    </div>

  </div> <!-- /.row -->

  <div class="row">

  <!-- Roles -->
    <div class="col-sm-6">
      <div class="row">
        <div class="col-sm-12">
          <h2>Roles</h2>
        </div>
        <div class="col-sm-6">
          <div class="radio">
            <label>
              <input type="radio" name="user-role" value="admin" ng-model="user.UserRole">
              Admin
            </label>
          </div>
          <div class="radio">
            <label>
              <input type="radio" name="user-role" value="staff" ng-model="user.UserRole">
              Staff
            </label>
          </div>
          <div class="radio">
            <label>
              <input type="radio" name="user-role" value="member" ng-model="user.UserRole">
              Member
            </label>
          </div>
        </div>
        <div class="col-sm-6 hidden-xs">
          <div class="tip">Admin: Do everything<br>
                           Staff: Limited access<br>
                           Member: Activate machines
          </div>
        </div>
      </div>
    </div>

    <!-- Machine Permissions -->
    <div class="col-sm-6">
      <div class="row">
        
        <div class="col-sm-12">
          <h2>Machine Permissions</h2>
        </div>

        <!-- Machine iterator -->
        <div class="col-sm-6" ng-repeat="userMachine in userMachines">
          <div class="checkbox-inline">
            <label title="{{userMachine.Description}}">
              <input type="checkbox" name="machine-permissions" 
                     value="{{userMachine.Id}}" checked> 
              {{userMachine.Name}}
            </label>
          </div>
        </div>
        
      </div> <!-- /.row -->
    </div>

  </div> <!-- /.row -->


  <h2>User Memberships</h2>
  <table class="table table-striped table-hover">
    <thead>
      <tr>
        <th>Membership Name</th>
        <th>Start Date</th>
        <th>End Date</th>
        <th style="min-width:60px">&nbsp;</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="userMembership in userMemberships">
        <td>{{membershipsById[userMembership.MembershipId].Title}}</td>
        <td>{{userMembership.StartDate}}</td>
        <td>{{userMembership.EndDate}}</td>
        <td>
          <div class="pull-right">
            <!-- <button type="button" class="btn btn-primary btn-ico">
              <i class="fa fa-edit"></i>
            </button> -->
            <button type="button" class="btn btn-danger btn-ico" ng-click="deleteUserMembership(userMembership.Id)">
              <i class="fa fa-close"></i>
            </button>
          </div>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="row">
    <div class="col-sm-3">
      <div class="form-group">
        <select class="form-control" id="user-select-membership" placeholder="Membership">
          <!-- These have to be loaded via API -->
          <option value="" selected disabled>Select Membership</option>
          <option ng-repeat="membership in memberships" value={{membership.Id}}>
            {{membership.Title}}
          </option>
        </select>
      </div>
    </div>

    <div class="col-sm-3">
      <div class="form-group">
        <div class="input-group">
          <input id="adm-add-user-membership-start-date" class="form-control datepicker" placeholder="Start Date">
          <div class="input-group-addon">
            <i class="fa fa-calendar"></i>
          </div>
        </div>
      </div>
    </div>

    <div class="col-sm-3">
      <button class="btn btn-primary btn-block" id="user-add-membership-btn" ng-click="addUserMembership()">
        <i class="fa fa-plus"></i>&nbsp;Add User Membership
      </button>
    </div>
  </div>

  <hr>

  <div class="pull-right">
    <button class="btn btn-danger btn-lg" ng-click="deleteUser()">
      <i class="fa fa-trash-o"></i>&nbsp;Delete
    </button>
    <button class="btn btn-primary btn-lg" ng-click="saveUser()">
      <i class="fa fa-save"></i>&nbsp;Save
    </button>
  </div>

</div> <!-- /container -->
