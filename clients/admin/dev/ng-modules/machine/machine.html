<div id="admin-machine" class="container-fluid">

  <h1>Edit Machine</h1>

  <hr>

  <div class="row">

    <div class="col-sm-3">
      <div class="form-group">
        <label for="machine-name">Machine Name</label>
        <input type="text" id="machine-name" class="form-control"
               placeholder="Enter machine name" ng-model="machine.Name">
      </div>
    </div>

    <div class="col-sm-3">
      <div class="form-group">
        <label for="machine-shortname">Shortname</label>
        <input type="text" id="machine-shortname" class="form-control"
               placeholder="Enter shortname" ng-model="machine.Shortname">
      </div>
    </div>
    
    <div class="col-sm-3">
      <div class="form-group">
        <label for="machine-shortname">Price</label>
        <div class="input-group">
          <input type="text" id="machine-price" class="form-control"
                 placeholder="Enter price" ng-model="machine.Price">
          <div class="input-group-addon">
            <i class="fa fa-euro"></i>
          </div>
        </div>
      </div>
    </div>
    
    <div class="col-sm-3">
      <div class="form-group">
        <label for="machine-price-unit">Price Unit</label>
        <select class="form-control" id="machine-price-unit" 
                ng-model="machine.PriceUnit">
          <option value="" selected disabled>Select unit</option>
          <!-- TODO: These have to be loaded via API -->
          <option value="minute">minute</option>
          <option value="hour">hour</option>
          <option value="day">day</option>
        </select>
      </div>
    </div>
  
  </div><!-- /.row -->

  <div class="row">
    
    <div class="col-sm-6">
      <div class="form-group">
        <label for="machine-description">Machine Description</label>
        <textarea id="machine-description" class="form-control" rows="5"
                  placeholder="Enter machine description"
                  ng-model="machine.Description"></textarea>
      </div>
    </div>

    <div class="col-sm-6">
      <label>Image</label>
      <div class="row"> 
        <div class="col-sm-6">
          <div class="form-group">
            <img id="machine-image"
              ng-src="{{machineImageNewFile || machineImageFile || 'assets/img/img-machine-placeholder.svg'}}"
              alt="Machine image">
          </div>
        </div>
        <div class="col-sm-6">
          <div class="form-group">
            <input type="file" onchange="angular.element(this).scope().machineImageLoad(this)">
            <button class="btn btn-primary btn-block" ng-disabled="!machineImageNewFile" ng-click="machineImageReplace()">
              <i class="fa fa-file-image-o"></i>&nbsp;Replace
            </button>
          </div>
          <p>Supported types: svg</p>
          <p>Name: {{machineImageNewFileName || machine.ImageName}}<br>Size: {{machineImageNewFileSize || machine.ImageSize}}</p>
        </div>
      </div>

    </div>

  </div><!-- /.row -->

  <div class="row">
    
    <!-- If mapping and IP are set, this is visible -->
    <div class="col-sm-6" ng-show="hexabusMapping">
      <label for="machine-hexabus-ip">Hexabus IP</label>
      <div class="row">
        <div class="col-sm-6">
          <div class="form-group">
            <input type="text" id="machine-hexabus-ip" class="form-control"
                   placeholder="IPv6 Address"
                   ng-model="hexabusMapping.SwitchIp"
                   ng-change="hexabusMappingChanged=true">
          </div>
        </div>
        <div class="col-sm-6" ng-hide="hexabusMappingChanged">
          <div class="form-group">
            <button class="btn btn-danger btn-block"
                    ng-click="deleteHexabusMappingPrompt()">
              <i class="fa fa-remove"></i>
              &nbsp;Delete Mapping
            </button>
          </div>
        </div>
        <div class="col-sm-6" ng-show="hexabusMappingChanged">
          <div class="form-group">
            <button class="btn btn-primary btn-block"
                    ng-click="updateHexabusMapping()">
              <i class="fa fa-remove"></i>
              &nbsp;Update Mapping
            </button>
          </div>
        </div>
      </div>
      
    </div>


    <!-- If mapping and IP are not set, this is visible -->
    <div class="col-sm-3" ng-hide="hexabusMapping">
      <div class="form-group">
        <label>Hexabus Mapping</label>
        <button class="btn btn-primary btn-block"
                ng-click="createHexabusMapping()">
          <i class="fa fa-plus"></i>
          &nbsp;Create Mapping
        </button>
      </div>
    </div>

  </div><!-- /.row -->

  <div class="row">
    <div class="col-sm-12">
      <h2>Comments</h2>
    </div>
    <div class="col-sm-6">
      <textarea class="form-control" ng-model="machine.Comments"></textarea>
    </div>
  </div>

  <hr>

  <div class="pull-right">

    <button class="btn btn-danger btn-lg"
            ng-click="deleteMachinePrompt()">
      <i class="fa fa-trash-o"></i>&nbsp;Delete
    </button>

    <button class="btn btn-primary btn-lg"
            ng-click="updateMachine()">
      <i class="fa fa-save"></i>&nbsp;Save
    </button>

  </div>

</div> <!-- /container -->
