package docs

import (
	"encoding/json"
	"strings"

	"github.com/astaxie/beego"
	"github.com/astaxie/beego/swagger"
)

const (
    Rootinfo string = `{"apiVersion":"0.1.0","swaggerVersion":"1.2","apis":[{"path":"/debug","description":""},{"path":"/locations","description":""},{"path":"/machines","description":""},{"path":"/users","description":""},{"path":"/memberships","description":""},{"path":"/machine_types","description":""},{"path":"/products","description":""},{"path":"/activations","description":""},{"path":"/invoices","description":""},{"path":"/fastbill","description":""},{"path":"/feedback","description":""},{"path":"/metrics","description":""},{"path":"/reservations","description":""},{"path":"/reservation_rules","description":""},{"path":"/settings","description":""},{"path":"/purchases","description":""},{"path":"/tutorings","description":""}],"info":{"title":"Fabsmith API","description":"Makerspace machine management","contact":"krisjanis.rijnieks@gmail.com"}}`
    Subapi string = `{"/activations":{"apiVersion":"0.1.0","swaggerVersion":"1.2","basePath":"","resourcePath":"/activations","produces":["application/json","application/xml","text/plain","text/html"],"apis":[{"path":"/","description":"","operations":[{"httpMethod":"GET","nickname":"Get All","type":"","summary":"Get all activations","parameters":[{"paramType":"query","name":"startDate","description":"\"Period start date\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"query","name":"endDate","description":"\"Period end date\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"query","name":"search","description":"\"Search term\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":false,"minimum":0,"maximum":0},{"paramType":"query","name":"userId","description":"\"User ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"query","name":"itemsPerPage","description":"\"Items per page or max number of items to return\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"query","name":"page","description":"\"Current page to show\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"{object}","responseModel":""},{"code":400,"message":"Bad request","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]},{"path":"/","description":"","operations":[{"httpMethod":"POST","nickname":"Create","type":"","summary":"Create activation manually","parameters":[{"paramType":"query","name":"location_id","description":"\"Location ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"{object}","responseModel":""},{"code":400,"message":"Bad Request","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]},{"path":"/:aid","description":"","operations":[{"httpMethod":"GET","nickname":"Get","type":"","summary":"Get activation by activation ID","parameters":[{"paramType":"path","name":"aid","description":"\"Activation ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"{object}","responseModel":""},{"code":403,"message":"Failed to get activation","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""}]}]},{"path":"/:rid","description":"","operations":[{"httpMethod":"PUT","nickname":"Put","type":"","summary":"Update activation","responseMessages":[{"code":201,"message":"{object}","responseModel":""},{"code":400,"message":"Bad Request","responseModel":""},{"code":401,"message":"Unauthorized","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]},{"path":"/active","description":"","operations":[{"httpMethod":"GET","nickname":"Get Active","type":"","summary":"Get all active activations","responseMessages":[{"code":200,"message":"{object}","responseModel":""},{"code":403,"message":"Failed to get active activations","responseModel":""}]}]},{"path":"/start","description":"","operations":[{"httpMethod":"POST","nickname":"Start","type":"","summary":"Start new activation","parameters":[{"paramType":"query","name":"mid","description":"\"Machine ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":201,"message":"models.ActivationCreateResponse","responseModel":"ActivationCreateResponse"},{"code":403,"message":"Failed to start activation","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""}]}]},{"path":"/:aid/close","description":"","operations":[{"httpMethod":"POST","nickname":"Close","type":"","summary":"Close running activation","parameters":[{"paramType":"path","name":"aid","description":"\"Activation ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"models.StatusResponse","responseModel":"StatusResponse"},{"code":403,"message":"Failed to close activation","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""}]}]},{"path":"/:aid/feedback","description":"","operations":[{"httpMethod":"POST","nickname":"PostFeedback","type":"","summary":"Post feedback","parameters":[{"paramType":"path","name":"mid","description":"\"Machine ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"ok","responseModel":""},{"code":400,"message":"Bad Request","responseModel":""},{"code":400,"message":"Client Error","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]}],"models":{"ActivationCreateResponse":{"id":"ActivationCreateResponse","properties":{"ActivationId":{"type":"int64","description":"","format":""}}},"StatusResponse":{"id":"StatusResponse","properties":{"Status":{"type":"string","description":"","format":""}}}}},"/debug":{"apiVersion":"0.1.0","swaggerVersion":"1.2","basePath":"","resourcePath":"/debug","produces":["application/json","application/xml","text/plain","text/html"],"apis":[{"path":"/","description":"","operations":[{"httpMethod":"GET","nickname":"Get","type":"","summary":"Get debug route","parameters":[{"paramType":"path","name":"aid","description":"\"Activation ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"{object}","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]}]},"/fastbill":{"apiVersion":"0.1.0","swaggerVersion":"1.2","basePath":"","resourcePath":"/fastbill","produces":["application/json","application/xml","text/plain","text/html"],"apis":[{"path":"/customer","description":"","operations":[{"httpMethod":"GET","nickname":"GetCustomers","type":"","summary":"Get FastBill customers","parameters":[{"paramType":"query","name":"limit","description":"\"Limit of the number of records returned\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":false,"minimum":0,"maximum":0},{"paramType":"query","name":"offset","description":"\"Offset of the records returned\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":false,"minimum":0,"maximum":0},{"paramType":"query","name":"term","description":"\"Filter term in one of the given fields: ORGANIZATION, FIRST_NAME, LAST_NAME, ADDRESS, ADDRESS_2, ZIPCODE, EMAIL, TAGS.\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":false,"minimum":0,"maximum":0},{"paramType":"query","name":"customerid","description":"\"Customer ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":false,"minimum":0,"maximum":0},{"paramType":"query","name":"customernumber","description":"\"Customer Number\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":false,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"{object}","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""}]}]},{"path":"/customer","description":"","operations":[{"httpMethod":"POST","nickname":"CreateCustomer","type":"","summary":"Create FastBill customer","parameters":[{"paramType":"query","name":"firstname","description":"\"First name of the customer\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"query","name":"lastname","description":"\"Last name of the customer\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"query","name":"email","description":"\"Customer email\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"query","name":"address","description":"\"Customer billing address\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"query","name":"city","description":"\"Customer city\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"query","name":"countrycode","description":"\"Customer ISO 3166 ALPHA-2\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"query","name":"zipcode","description":"\"Customer zip code\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"query","name":"phone","description":"\"Customer phone number\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":false,"minimum":0,"maximum":0},{"paramType":"query","name":"organization","description":"\"Organization of the customer\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":false,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"{object}","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""}]}]},{"path":"/customer/:customerid","description":"","operations":[{"httpMethod":"PUT","nickname":"UpdateCustomer","type":"","summary":"Update FastBill customer","parameters":[{"paramType":"path","name":"customerid","description":"\"Customer ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"query","name":"firstname","description":"\"First name of the customer\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":false,"minimum":0,"maximum":0},{"paramType":"query","name":"lastname","description":"\"Last name of the customer\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":false,"minimum":0,"maximum":0},{"paramType":"query","name":"email","description":"\"Customer email\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":false,"minimum":0,"maximum":0},{"paramType":"query","name":"address","description":"\"Customer billing address\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":false,"minimum":0,"maximum":0},{"paramType":"query","name":"city","description":"\"Customer city\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":false,"minimum":0,"maximum":0},{"paramType":"query","name":"countrycode","description":"\"Customer ISO 3166 ALPHA-2\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":false,"minimum":0,"maximum":0},{"paramType":"query","name":"zipcode","description":"\"Customer zip code\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":false,"minimum":0,"maximum":0},{"paramType":"query","name":"phone","description":"\"Customer phone number\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":false,"minimum":0,"maximum":0},{"paramType":"query","name":"organization","description":"\"Organization of the customer\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":false,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"{object}","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""}]}]},{"path":"/customer/:customerid","description":"","operations":[{"httpMethod":"DELETE","nickname":"DeleteCustomer","type":"","summary":"Delete existing FastBill customer","parameters":[{"paramType":"path","name":"customerid","description":"\"Customer ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"ok","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""}]}]}]},"/feedback":{"apiVersion":"0.1.0","swaggerVersion":"1.2","basePath":"","resourcePath":"/feedback","produces":["application/json","application/xml","text/plain","text/html"],"apis":[{"path":"/","description":"","operations":[{"httpMethod":"POST","nickname":"PostFeedback","type":"","summary":"Post feedback, either as ZenDesk ticket or as E-Mail","parameters":[{"paramType":"query","name":"location","description":"\"Location id\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"query","name":"name","description":"\"Full name of the customer\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"query","name":"email","description":"\"Email of the customer\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"query","name":"subject","description":"\"Subject of the Ticket\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"query","name":"message","description":"\"Message of the Ticket\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"{object}","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""}]}]}]},"/invoices":{"apiVersion":"0.1.0","swaggerVersion":"1.2","basePath":"","resourcePath":"/invoices","produces":["application/json","application/xml","text/plain","text/html"],"apis":[{"path":"/","description":"","operations":[{"httpMethod":"GET","nickname":"Get All monthly earnings","type":"","summary":"Get all monthly earnings from the database","responseMessages":[{"code":200,"message":"[]*monthly_earning.MonthlyEarning","responseModel":""},{"code":403,"message":"Failed to get all monthly earnings","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""}]}]},{"path":"/:iid","description":"","operations":[{"httpMethod":"DELETE","nickname":"Get All monthly earnings","type":"","summary":"Get all monthly earnings from the database","parameters":[{"paramType":"path","name":"iid","description":"\"Invoice ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"ok","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""},{"code":500,"message":"Failed to delete","responseModel":""}]}]},{"path":"/","description":"","operations":[{"httpMethod":"POST","nickname":"Create monthly earning","type":"","summary":"Create monthly earning from date range","parameters":[{"paramType":"query","name":"startDate","description":"\"Period start date\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"query","name":"endDate","description":"\"Period end date\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"{object}","responseModel":""},{"code":403,"message":"Failed to create monthly earning","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""}]}]},{"path":"/:iid/create_drafts","description":"","operations":[{"httpMethod":"POST","nickname":"Create Fastbill drafts","type":"","summary":"Create fastbill drafts from date range","parameters":[{"paramType":"query","name":"startDate","description":"\"Period start date\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"query","name":"endDate","description":"\"Period end date\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"{object}","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""},{"code":403,"message":"Failed to create Fastbill drafts","responseModel":""}]}]}]},"/locations":{"apiVersion":"0.1.0","swaggerVersion":"1.2","basePath":"","resourcePath":"/locations","produces":["application/json","application/xml","text/plain","text/html"],"apis":[{"path":"/","description":"","operations":[{"httpMethod":"POST","nickname":"Create","type":"","summary":"Create location","responseMessages":[{"code":200,"message":"{object}","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]},{"path":"/","description":"","operations":[{"httpMethod":"GET","nickname":"GetAll","type":"","summary":"Get all locations","responseMessages":[{"code":200,"message":"models.locations.Location","responseModel":"Location"},{"code":401,"message":"Not authorized","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]},{"path":"/:lid","description":"","operations":[{"httpMethod":"GET","nickname":"Get","type":"","summary":"Get location","responseMessages":[{"code":200,"message":"{object}","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]}],"models":{"Location":{"id":"Location","properties":{"":{"type":"bool","description":"","format":""},"Approved":{"type":"bool","description":"","format":""},"City":{"type":"string","description":"","format":""},"Comments":{"type":"string","description":"","format":""},"Email":{"type":"string","description":"","format":""},"FirstName":{"type":"string","description":"","format":""},"Id":{"type":"int64","description":"","format":""},"LastName":{"type":"string","description":"","format":""},"Organization":{"type":"string","description":"","format":""},"Phone":{"type":"string","description":"","format":""},"Title":{"type":"string","description":"","format":""}}}}},"/machine_types":{"apiVersion":"0.1.0","swaggerVersion":"1.2","basePath":"","resourcePath":"/machine_types","produces":["application/json","application/xml","text/plain","text/html"],"apis":[{"path":"/","description":"","operations":[{"httpMethod":"GET","nickname":"GetAll","type":"","summary":"Get all machine_types","responseMessages":[{"code":200,"message":"models.locations.Location","responseModel":"Location"},{"code":401,"message":"Not authorized","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]}],"models":{"Location":{"id":"Location","properties":{"":{"type":"bool","description":"","format":""},"Approved":{"type":"bool","description":"","format":""},"City":{"type":"string","description":"","format":""},"Comments":{"type":"string","description":"","format":""},"Email":{"type":"string","description":"","format":""},"FirstName":{"type":"string","description":"","format":""},"Id":{"type":"int64","description":"","format":""},"LastName":{"type":"string","description":"","format":""},"Organization":{"type":"string","description":"","format":""},"Phone":{"type":"string","description":"","format":""},"Title":{"type":"string","description":"","format":""}}}}},"/machines":{"apiVersion":"0.1.0","swaggerVersion":"1.2","basePath":"","resourcePath":"/machines","produces":["application/json","application/xml","text/plain","text/html"],"apis":[{"path":"/","description":"","operations":[{"httpMethod":"GET","nickname":"GetAll","type":"","summary":"Get all machines (limited to location, if specified)","parameters":[{"paramType":"query","name":"location","description":"\"Location ID\"","dataType":"int64","type":"","format":"","allowMultiple":false,"required":false,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"machine.Machine","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""},{"code":500,"message":"Failed to get all machines","responseModel":""}]}]},{"path":"/:mid","description":"","operations":[{"httpMethod":"GET","nickname":"Get","type":"","summary":"Get machine by machine ID","parameters":[{"paramType":"path","name":"mid","description":"\"Machine ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"machine.Machine","responseModel":""},{"code":403,"message":"Failed to get machine","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""}]}]},{"path":"/","description":"","operations":[{"httpMethod":"POST","nickname":"Create","type":"","summary":"Create machine","parameters":[{"paramType":"query","name":"location","description":"\"Location Id\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"query","name":"mname","description":"\"Machine Name\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"machine.MachineCreatedResponse","responseModel":""},{"code":403,"message":"Failed to create machine","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""}]}]},{"path":"/:mid","description":"","operations":[{"httpMethod":"PUT","nickname":"Update","type":"","summary":"Update machine","parameters":[{"paramType":"path","name":"mid","description":"\"Machine ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"body","name":"model","description":"\"Machine model\"","dataType":"Machine","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"ok","responseModel":""},{"code":400,"message":"Bad Request","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""},{"code":500,"message":"Failed to update machine","responseModel":""}]}]},{"path":"/:mid/image","description":"","operations":[{"httpMethod":"POST","nickname":"PostImage","type":"","summary":"Post machine image","parameters":[{"paramType":"path","name":"mid","description":"\"Machine ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"ok","responseModel":""},{"code":400,"message":"Bad Request","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]},{"path":"/:mid/report_broken","description":"","operations":[{"httpMethod":"POST","nickname":"ReportBroken","type":"","summary":"Report machine as broken","parameters":[{"paramType":"path","name":"mid","description":"\"Machine ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"ok","responseModel":""},{"code":400,"message":"Bad Request","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]},{"path":"/:mid/under_maintenance/on","description":"","operations":[{"httpMethod":"POST","nickname":"UnderMaintenanceOn","type":"","summary":"Turn On Under Maintenance","parameters":[{"paramType":"path","name":"mid","description":"\"Machine ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"ok","responseModel":""},{"code":400,"message":"Bad Request","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]},{"path":"/:mid/under_maintenance/off","description":"","operations":[{"httpMethod":"POST","nickname":"UnderMaintenanceOff","type":"","summary":"Turn Off Under Maintenance","parameters":[{"paramType":"path","name":"mid","description":"\"Machine ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"ok","responseModel":""},{"code":400,"message":"Bad Request","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]},{"path":"/search","description":"","operations":[{"httpMethod":"POST","nickname":"Search","type":"","summary":"Search machine globally","parameters":[{"paramType":"query","name":"machine_type_id","description":"\"Machine Type Id\"","dataType":"int64","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":0,"message":"200","responseModel":""},{"code":400,"message":"Client Error","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]},{"path":"/:mid/apply_config","description":"","operations":[{"httpMethod":"POST","nickname":"ApplyConfig","type":"","summary":"Apply custom switch config","parameters":[{"paramType":"path","name":"mid","description":"\"Machine ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"ok","responseModel":""},{"code":400,"message":"Bad Request","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]}]},"/memberships":{"apiVersion":"0.1.0","swaggerVersion":"1.2","basePath":"","resourcePath":"/memberships","produces":["application/json","application/xml","text/plain","text/html"],"apis":[{"path":"/","description":"","operations":[{"httpMethod":"GET","nickname":"GetAll","type":"","summary":"Get all memberships","responseMessages":[{"code":200,"message":"models.Membership","responseModel":"Membership"},{"code":403,"message":"Failed to get all memberships","responseModel":""}]}]},{"path":"/","description":"","operations":[{"httpMethod":"POST","nickname":"Create","type":"","summary":"Create new membership","parameters":[{"paramType":"query","name":"mname","description":"\"Membership Name\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"ID","responseModel":""},{"code":403,"message":"Failed to create membership","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""}]}]},{"path":"/:mid","description":"","operations":[{"httpMethod":"GET","nickname":"Get","type":"","summary":"Get membership by membership ID","parameters":[{"paramType":"path","name":"mid","description":"\"Membership ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"models.Membership","responseModel":"Membership"},{"code":403,"message":"Failed to get membership","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""}]}]},{"path":"/:mid","description":"","operations":[{"httpMethod":"PUT","nickname":"Update","type":"","summary":"Update membership","parameters":[{"paramType":"path","name":"mid","description":"\"Membership ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"body","name":"model","description":"\"Membership model\"","dataType":"Membership","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"ok","responseModel":""},{"code":403,"message":"Failed to update membership","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""}]}]},{"path":"/:mid","description":"","operations":[{"httpMethod":"DELETE","nickname":"Delete","type":"","summary":"Delete membership","parameters":[{"paramType":"path","name":"mid","description":"\"Membership ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"ok","responseModel":""},{"code":403,"message":"Failed to delete membership","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""}]}]}],"models":{"Membership":{"id":"Membership","properties":{"AffectedMachines":{"type":"string","description":"","format":""},"AutoExtend":{"type":"bool","description":"","format":""},"AutoExtendDurationMonths":{"type":"int64","description":"","format":""},"DurationMonths":{"type":"int64","description":"","format":""},"Id":{"type":"int64","description":"","format":""},"LocationId":{"type":"int64","description":"","format":""},"MachinePriceDeduction":{"type":"int","description":"","format":""},"MonthlyPrice":{"type":"float64","description":"","format":""},"ShortName":{"type":"string","description":"","format":""},"Title":{"type":"string","description":"","format":""}}}}},"/metrics":{"apiVersion":"0.1.0","swaggerVersion":"1.2","basePath":"","resourcePath":"/metrics","produces":["application/json","application/xml","text/plain","text/html"],"apis":[{"path":"/","description":"","operations":[{"httpMethod":"GET","nickname":"Get All","type":"","summary":"Get all metrics","responseMessages":[{"code":0,"message":"200","responseModel":""},{"code":500,"message":"Failed to get metrics","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""}]}]},{"path":"/activations","description":"","operations":[{"httpMethod":"GET","nickname":"Get All Activations fully denormalized","type":"","summary":"Get all activations","responseMessages":[{"code":0,"message":"200","responseModel":""},{"code":500,"message":"Failed to get activations","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""}]}]},{"path":"/realtime","description":"","operations":[{"httpMethod":"GET","nickname":"Get Realtime","type":"","summary":"Get realtime metrics","parameters":[{"paramType":"query","name":"apikey","description":"\"API Key for Grafana consumption\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"query","name":"location","description":"\"Location ID\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":0,"message":"200","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]}]},"/products":{"apiVersion":"0.1.0","swaggerVersion":"1.2","basePath":"","resourcePath":"/products","produces":["application/json","application/xml","text/plain","text/html"],"apis":[{"path":"/","description":"","operations":[{"httpMethod":"POST","nickname":"Create","type":"","summary":"Create product with name of specified type","parameters":[{"paramType":"query","name":"location","description":"\"Location ID\"","dataType":"int64","type":"","format":"","allowMultiple":false,"required":false,"minimum":0,"maximum":0},{"paramType":"query","name":"name","description":"\"Space Name\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"query","name":"type","description":"\"Product Type\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"{object}","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]},{"path":"/:id","description":"","operations":[{"httpMethod":"GET","nickname":"Get","type":"","summary":"Get product by ID","parameters":[{"paramType":"path","name":"id","description":"\"Space ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"query","name":"type","description":"\"Product Type\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"string","responseModel":""},{"code":400,"message":"Bad Request","responseModel":""},{"code":500,"message":"Failed to get product","responseModel":""}]}]},{"path":"/","description":"","operations":[{"httpMethod":"GET","nickname":"Get All","type":"","summary":"Get all products [of specified type, if param present]","parameters":[{"paramType":"query","name":"type","description":"\"Product Type\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":0,"message":"200","responseModel":""},{"code":500,"message":"Failed to get products","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""}]}]},{"path":"/:rid","description":"","operations":[{"httpMethod":"PUT","nickname":"Put","type":"","summary":"Update product","parameters":[{"paramType":"query","name":"type","description":"\"Product Type\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":201,"message":"string","responseModel":""},{"code":400,"message":"Bad Request","responseModel":""},{"code":401,"message":"Unauthorized","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]},{"path":"/:productId/archive","description":"","operations":[{"httpMethod":"PUT","nickname":"Archive Product","type":"","summary":"Archive product","parameters":[{"paramType":"query","name":"productId","description":"\"Product ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"string","responseModel":""},{"code":400,"message":"Bad Request","responseModel":""},{"code":401,"message":"Unauthorized","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]}]},"/purchases":{"apiVersion":"0.1.0","swaggerVersion":"1.2","basePath":"","resourcePath":"/purchases","produces":["application/json","application/xml","text/plain","text/html"],"apis":[{"path":"/","description":"","operations":[{"httpMethod":"POST","nickname":"Create","type":"","summary":"Create space purchase","parameters":[{"paramType":"query","name":"type","description":"\"Purchase Type\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"string","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]},{"path":"/","description":"","operations":[{"httpMethod":"GET","nickname":"GetAll","type":"","summary":"Get all purchases","parameters":[{"paramType":"query","name":"type","description":"\"Purchase Type\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"string","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""},{"code":500,"message":"Failed to get all machines","responseModel":""}]}]},{"path":"/:id","description":"","operations":[{"httpMethod":"GET","nickname":"Get","type":"","summary":"Get purchase by ID","parameters":[{"paramType":"path","name":"id","description":"\"Space Purchase ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"query","name":"type","description":"\"Purchase Type\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"{object}","responseModel":""},{"code":400,"message":"Bad Request","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]},{"path":"/:rid","description":"","operations":[{"httpMethod":"PUT","nickname":"Put","type":"","summary":"Update purchase","parameters":[{"paramType":"query","name":"type","description":"\"Purchase Type\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"string","responseModel":""},{"code":400,"message":"Bad Request","responseModel":""},{"code":401,"message":"Unauthorized","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]},{"path":"/:purchaseId/archive","description":"","operations":[{"httpMethod":"PUT","nickname":"Archive Purchase","type":"","summary":"Archive a purchase","parameters":[{"paramType":"query","name":"purchaseId","description":"\"Purchase ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"string","responseModel":""},{"code":400,"message":"Bad Request","responseModel":""},{"code":401,"message":"Unauthorized","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]}]},"/reservation_rules":{"apiVersion":"0.1.0","swaggerVersion":"1.2","basePath":"","resourcePath":"/reservation_rules","produces":["application/json","application/xml","text/plain","text/html"],"apis":[{"path":"/","description":"","operations":[{"httpMethod":"GET","nickname":"GetAll","type":"","summary":"Get all ReservationRules","responseMessages":[{"code":200,"message":"models.ReservationRule","responseModel":"ReservationRule"},{"code":403,"message":"Failed to get all ReservationRules","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""}]}]},{"path":"/:rid","description":"","operations":[{"httpMethod":"GET","nickname":"Get","type":"","summary":"Get ReservationRule by ID","parameters":[{"paramType":"path","name":"mid","description":"\"ReservationRule ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"models.ReservationRule","responseModel":"ReservationRule"},{"code":403,"message":"Failed to get ReservationRule","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""}]}]},{"path":"/","description":"","operations":[{"httpMethod":"POST","nickname":"Create","type":"","summary":"Create ReservationRule","parameters":[{"paramType":"body","name":"model","description":"\"ReservationRule Name\"","dataType":"ReservationRule","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"models.ReservationRuleCreatedResponse","responseModel":"ReservationRuleCreatedResponse"},{"code":403,"message":"Failed to create ReservationRule","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""}]}]},{"path":"/:rid","description":"","operations":[{"httpMethod":"PUT","nickname":"Update","type":"","summary":"Update ReservationRule","parameters":[{"paramType":"body","name":"model","description":"\"ReservationRule\"","dataType":"ReservationRule","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"models.ReservationRule","responseModel":"ReservationRule"},{"code":403,"message":"Failed to update ReservationRule","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""}]}]},{"path":"/:rid","description":"","operations":[{"httpMethod":"DELETE","nickname":"Delete","type":"","summary":"Delete ReservationRule","parameters":[{"paramType":"path","name":"rid","description":"\"ReservationRule ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"ok","responseModel":""},{"code":403,"message":"Failed to delete ReservationRule","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""}]}]}],"models":{"ReservationRule":{"id":"ReservationRule","properties":{"Available":{"type":"bool","description":"","format":""},"Created":{"type":"\u0026{time Time}","description":"","format":""},"DateEnd":{"type":"string","description":"","format":""},"DateStart":{"type":"string","description":"","format":""},"Friday":{"type":"bool","description":"","format":""},"Id":{"type":"int64","description":"","format":""},"LocationId":{"type":"int64","description":"","format":""},"MachineId":{"type":"int64","description":"","format":""},"Monday":{"type":"bool","description":"","format":""},"Name":{"type":"string","description":"","format":""},"Saturday":{"type":"bool","description":"","format":""},"Sunday":{"type":"bool","description":"","format":""},"Thursday":{"type":"bool","description":"","format":""},"TimeEnd":{"type":"string","description":"","format":""},"TimeStart":{"type":"string","description":"","format":""},"TimeZone":{"type":"string","description":"","format":""},"Tuesday":{"type":"bool","description":"","format":""},"Unavailable":{"type":"bool","description":"","format":""},"Wednesday":{"type":"bool","description":"","format":""}}},"ReservationRuleCreatedResponse":{"id":"ReservationRuleCreatedResponse","properties":{"Id":{"type":"int64","description":"","format":""}}}}},"/reservations":{"apiVersion":"0.1.0","swaggerVersion":"1.2","basePath":"","resourcePath":"/reservations","produces":["application/json","application/xml","text/plain","text/html"],"apis":[{"path":"/","description":"","operations":[{"httpMethod":"GET","nickname":"GetAll","type":"","summary":"Get all reservations","responseMessages":[{"code":200,"message":"{object}","responseModel":""},{"code":403,"message":"Failed to get all reservations","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""}]}]},{"path":"/:rid","description":"","operations":[{"httpMethod":"GET","nickname":"Get","type":"","summary":"Get reservation by ID","parameters":[{"paramType":"path","name":"rid","description":"\"Reservation ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"{object}","responseModel":""},{"code":403,"message":"Failed to get reservation","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""}]}]},{"path":"/","description":"","operations":[{"httpMethod":"POST","nickname":"Create","type":"","summary":"Create reservation","parameters":[{"paramType":"body","name":"model","description":"\"Reservation Name\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"{object}","responseModel":""},{"code":400,"message":"Bad request","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""},{"code":500,"message":"Failed to create reservation","responseModel":""}]}]},{"path":"/:rid","description":"","operations":[{"httpMethod":"PUT","nickname":"Put","type":"","summary":"Update reservation","responseMessages":[{"code":201,"message":"{object}","responseModel":""},{"code":400,"message":"Bad Request","responseModel":""},{"code":401,"message":"Unauthorized","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]},{"path":"/:rid","description":"","operations":[{"httpMethod":"DELETE","nickname":"Delete","type":"","summary":"Delete reservation","parameters":[{"paramType":"path","name":"rid","description":"\"Reservation ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"ok","responseModel":""},{"code":400,"message":"Bad Request","responseModel":""},{"code":401,"message":"Unauthorized","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]}]},"/settings":{"apiVersion":"0.1.0","swaggerVersion":"1.2","basePath":"","resourcePath":"/settings","produces":["application/json","application/xml","text/plain","text/html"],"apis":[{"path":"/","description":"","operations":[{"httpMethod":"GET","nickname":"Get All","type":"","summary":"Get all settings","responseMessages":[{"code":0,"message":"200","responseModel":""},{"code":500,"message":"Failed to get settings","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""}]}]},{"path":"/","description":"","operations":[{"httpMethod":"POST","nickname":"Post","type":"","summary":"post settings","responseMessages":[{"code":0,"message":"201","responseModel":""},{"code":401,"message":"Unauthorized","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]}]},"/tutorings":{"apiVersion":"0.1.0","swaggerVersion":"1.2","basePath":"","resourcePath":"/tutorings","produces":["application/json","application/xml","text/plain","text/html"],"apis":[{"path":"/:id/start","description":"","operations":[{"httpMethod":"POST","nickname":"Start","type":"","summary":"Start tutoring","parameters":[{"paramType":"path","name":"id","description":"\"Tutoring ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":0,"message":"200","responseModel":""},{"code":400,"message":"Bad Request","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]},{"path":"/:id/stop","description":"","operations":[{"httpMethod":"POST","nickname":"Stop","type":"","summary":"Stop tutoring","parameters":[{"paramType":"path","name":"id","description":"\"Tutoring ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":0,"message":"200","responseModel":""},{"code":400,"message":"Bad Request","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]}]},"/users":{"apiVersion":"0.1.0","swaggerVersion":"1.2","basePath":"","resourcePath":"/users","produces":["application/json","application/xml","text/plain","text/html"],"apis":[{"path":"/forgot_password","description":"","operations":[{"httpMethod":"POST","nickname":"ForgotPassword","type":"","summary":"Send forgot password E-Mail","parameters":[{"paramType":"body","name":"email","description":"\"Email\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":0,"message":"200","responseModel":""},{"code":400,"message":"Not authorized","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]},{"path":"/forgot_password/phone","description":"","operations":[{"httpMethod":"POST","nickname":"CheckPhone","type":"","summary":"Check phone number","parameters":[{"paramType":"body","name":"key","description":"\"Reset Password Key\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"body","name":"phone","description":"\"Phone\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":0,"message":"200","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]},{"path":"/forgot_password/reset","description":"","operations":[{"httpMethod":"POST","nickname":"ResetPassword","type":"","summary":"Reset password","parameters":[{"paramType":"body","name":"key","description":"\"Reset Password Key\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"body","name":"password","description":"\"New password\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"body","name":"phone","description":"\"Phone\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":0,"message":"200","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]},{"path":"/login","description":"","operations":[{"httpMethod":"POST","nickname":"login","type":"","summary":"Logs user into the system","parameters":[{"paramType":"body","name":"username","description":"\"The username for login\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"body","name":"password","description":"\"The password for login\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"body","name":"location","description":"\"Location ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"models.LoginResponse","responseModel":"LoginResponse"},{"code":400,"message":"Bad Request","responseModel":""},{"code":401,"message":"Failed to authenticate","responseModel":""}]}]},{"path":"/loginuid","description":"","operations":[{"httpMethod":"POST","nickname":"LoginUid","type":"","summary":"Logs user into the system by using NFC UID","parameters":[{"paramType":"query","name":"uid","description":"\"The NFC UID\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"query","name":"location","description":"\"Location ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"models.LoginResponse","responseModel":"LoginResponse"},{"code":401,"message":"Failed to authenticate","responseModel":""}]}]},{"path":"/logout","description":"","operations":[{"httpMethod":"GET","nickname":"logout","type":"","summary":"Logs out current logged in user session","responseMessages":[{"code":200,"message":"models.StatusResponse","responseModel":"StatusResponse"}]}]},{"path":"/current","description":"","operations":[{"httpMethod":"GET","nickname":"GetCurrentUser","type":"","summary":"Get current user","responseMessages":[{"code":200,"message":"users.User","responseModel":""},{"code":400,"message":"Failed to authenticate","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]},{"path":"/","description":"","operations":[{"httpMethod":"GET","nickname":"GetAll","type":"","summary":"Get all users","responseMessages":[{"code":200,"message":"users.User","responseModel":""},{"code":500,"message":"Failed to get all users","responseModel":""}]}]},{"path":"/signup","description":"","operations":[{"httpMethod":"POST","nickname":"Signup","type":"","summary":"Accept user signup, create a zombie user with no privileges for later access","parameters":[{"paramType":"body","name":"model","description":"\"User model and password\"","dataType":"UserSignupRequest","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"ok","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]},{"path":"/","description":"","operations":[{"httpMethod":"POST","nickname":"Post","type":"","summary":"create user and associated tables","parameters":[{"paramType":"query","name":"email","description":"\"The new user's E-Mail\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"query","name":"location","description":"\"Make user member of location id\"","dataType":"int64","type":"","format":"","allowMultiple":false,"required":false,"minimum":0,"maximum":0}],"responseMessages":[{"code":201,"message":"users.User","responseModel":""},{"code":401,"message":"Unauthorized","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]},{"path":"/:uid","description":"","operations":[{"httpMethod":"GET","nickname":"Get","type":"","summary":"get user by uid","parameters":[{"paramType":"path","name":"uid","description":"\"User ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"users.User","responseModel":""},{"code":403,"message":"Variable message","responseModel":""},{"code":401,"message":"Unauthorized","responseModel":""}]}]},{"path":"/:uid","description":"","operations":[{"httpMethod":"PUT","nickname":"Put","type":"","summary":"Update user with uid","parameters":[{"paramType":"path","name":"uid","description":"\"User ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"body","name":"body","description":"\"User model\"","dataType":"User","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"ok","responseModel":""},{"code":400,"message":"Variable message","responseModel":""},{"code":401,"message":"Unauthorized","responseModel":""},{"code":403,"message":"Variable message","responseModel":""}]}]},{"path":"/:uid/machines","description":"","operations":[{"httpMethod":"GET","nickname":"GetUserMachines","type":"","summary":"Get user machines, all machines for admin user","parameters":[{"paramType":"path","name":"uid","description":"\"User ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"query","name":"location","description":"\"Location ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":false,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"machine.Machine","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""},{"code":401,"message":"Unauthorized","responseModel":""}]}]},{"path":"/:uid/bill","description":"","operations":[{"httpMethod":"GET","nickname":"GetUserBill","type":"","summary":"Get a user PayAsYouGo data (Machines, usage and price per machine and total price)","parameters":[{"paramType":"path","name":"uid","description":"\"User ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"machine.Machine","responseModel":""},{"code":401,"message":"Unauthorized","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]},{"path":"/names","description":"","operations":[{"httpMethod":"GET","nickname":"GetUserNames","type":"","summary":"Get user name data only","parameters":[{"paramType":"query","name":"uids","description":"\"User IDs\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"models.UserNamesResponse","responseModel":"UserNamesResponse"},{"code":400,"message":"Bad request","responseModel":""},{"code":401,"message":"Not logged in","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]},{"path":"/:uid/password","description":"","operations":[{"httpMethod":"POST","nickname":"PostUserPassword","type":"","summary":"Post user password","parameters":[{"paramType":"path","name":"uid","description":"\"User ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":0,"message":"200","responseModel":""},{"code":403,"message":"Failed to get user","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""}]}]},{"path":"/:uid/nfcuid","description":"","operations":[{"httpMethod":"PUT","nickname":"UpdateNfcUid","type":"","summary":"Update user NFC UID","parameters":[{"paramType":"path","name":"uid","description":"\"User ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"query","name":"nfcuid","description":"\"NFC UID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"ok","responseModel":""},{"code":403,"message":"Failed to update NFC UID","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""}]}]},{"path":"/:uid/dashboard","description":"","operations":[{"httpMethod":"GET","nickname":"GetDashboard","type":"","summary":"Get all data for user dashboard","responseMessages":[{"code":200,"message":"string","responseModel":""},{"code":401,"message":"Unauthorized","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]},{"path":"/:uid/locations","description":"","operations":[{"httpMethod":"GET","nickname":"GetUserLocations","type":"","summary":"Get user locations","parameters":[{"paramType":"path","name":"uid","description":"\"User ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":0,"message":"200","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]},{"path":"/:uid/locations/:lid","description":"","operations":[{"httpMethod":"POST","nickname":"PostUserLocation","type":"","summary":"Create new user location","parameters":[{"paramType":"path","name":"uid","description":"\"User ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"path","name":"lid","description":"\"Location ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":0,"message":"200","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]},{"path":"/:uid/locations/:lid","description":"","operations":[{"httpMethod":"PUT","nickname":"PutUserLocation","type":"","summary":"Update existing user location","parameters":[{"paramType":"path","name":"uid","description":"\"User ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"path","name":"lid","description":"\"Location ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":0,"message":"200","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]},{"path":"/:uid/locations/:lid","description":"","operations":[{"httpMethod":"DELETE","nickname":"DeleteUserLocation","type":"","summary":"Delete user location","parameters":[{"paramType":"path","name":"uid","description":"\"User ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"path","name":"lid","description":"\"Location ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":0,"message":"200","responseModel":""},{"code":400,"message":"Client Error","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""}]}]},{"path":"/:uid/memberships","description":"","operations":[{"httpMethod":"POST","nickname":"PostUserMemberships","type":"","summary":"Post user membership","parameters":[{"paramType":"path","name":"uid","description":"\"User ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"query","name":"membershipId","description":"\"Membership ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"query","name":"startDate","description":"\"Start Date\"","dataType":"string","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"models.UserMembership","responseModel":"UserMembership"},{"code":400,"message":"Bad request","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""},{"code":500,"message":"Failed to get user memberships","responseModel":""}]}]},{"path":"/:uid/memberships","description":"","operations":[{"httpMethod":"GET","nickname":"GetUserMemberships","type":"","summary":"Get user memberships","parameters":[{"paramType":"path","name":"uid","description":"\"User ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"query","name":"location","description":"\"Location ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":false,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"models.UserMembershipList","responseModel":"UserMembershipList"},{"code":403,"message":"Failed to get user memberships","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""}]}]},{"path":"/:uid/memberships/:umid","description":"","operations":[{"httpMethod":"PUT","nickname":"Put","type":"","summary":"Update UserMembership","parameters":[{"paramType":"path","name":"uid","description":"\"User Membership Id\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"body","name":"body","description":"\"User Membership model\"","dataType":"UserMembership","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"ok","responseModel":""},{"code":400,"message":"Variable message","responseModel":""},{"code":401,"message":"Unauthorized","responseModel":""},{"code":403,"message":"Variable message","responseModel":""}]}]},{"path":"/:uid/permissions","description":"","operations":[{"httpMethod":"POST","nickname":"CreateUserPermission","type":"","summary":"Create a permission for a user to allow him/her to use a machine","parameters":[{"paramType":"path","name":"uid","description":"\"User ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"query","name":"mid","description":"\"Machine ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"ok","responseModel":""},{"code":403,"message":"Failed to create permission","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""}]}]},{"path":"/:uid/permissions","description":"","operations":[{"httpMethod":"DELETE","nickname":"DeleteUserPermission","type":"","summary":"Delete user machine permission","parameters":[{"paramType":"path","name":"uid","description":"\"User ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"query","name":"mid","description":"\"Machine ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"ok","responseModel":""},{"code":403,"message":"Failed to delete permission","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""}]}]},{"path":"/:uid/permissions","description":"","operations":[{"httpMethod":"PUT","nickname":"Update User Machine Permissions","type":"","summary":"Update user machine permissions","parameters":[{"paramType":"path","name":"uid","description":"\"User ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0},{"paramType":"body","name":"model","description":"\"Permissions Array\"","dataType":"Permission","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"ok","responseModel":""},{"code":403,"message":"Failed to update permissions","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""}]}]},{"path":"/:uid/permissions","description":"","operations":[{"httpMethod":"GET","nickname":"Get User Machine Permissions","type":"","summary":"Get user machine permissions","parameters":[{"paramType":"path","name":"uid","description":"\"User ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"models.Permission","responseModel":""},{"code":403,"message":"Failed to update permissions","responseModel":""},{"code":401,"message":"Not authorized","responseModel":""}]}]},{"path":"/:uid/machinepermissions","description":"","operations":[{"httpMethod":"GET","nickname":"GetUserMachinePermissions","type":"","summary":"Get current saved machine permissions","parameters":[{"paramType":"path","name":"uid","description":"\"User ID\"","dataType":"int","type":"","format":"","allowMultiple":false,"required":true,"minimum":0,"maximum":0}],"responseMessages":[{"code":200,"message":"machine.Machine","responseModel":""},{"code":500,"message":"Internal Server Error","responseModel":""},{"code":401,"message":"Unauthorized","responseModel":""}]}]}],"models":{"LoginResponse":{"id":"LoginResponse","properties":{"LocationId":{"type":"int64","description":"","format":""},"Status":{"type":"string","description":"","format":""},"UserId":{"type":"int64","description":"","format":""}}},"StatusResponse":{"id":"StatusResponse","properties":{"Status":{"type":"string","description":"","format":""}}},"UserMembership":{"id":"UserMembership","properties":{"AutoExtend":{"type":"bool","description":"","format":""},"EndDate":{"type":"\u0026{time Time}","description":"","format":""},"Id":{"type":"int64","description":"","format":""},"MembershipId":{"type":"int64","description":"","format":""},"StartDate":{"type":"\u0026{time Time}","description":"","format":""},"UserId":{"type":"int64","description":"","format":""}}},"UserMembershipCombo":{"id":"UserMembershipCombo","properties":{"AffectedMachines":{"type":"string","description":"","format":""},"AutoExtend":{"type":"bool","description":"","format":""},"DurationMonths":{"type":"int","description":"","format":""},"EndDate":{"type":"\u0026{time Time}","description":"","format":""},"Id":{"type":"int64","description":"","format":""},"LocationId":{"type":"int64","description":"","format":""},"MachinePriceDeduction":{"type":"int","description":"","format":""},"MembershipId":{"type":"int64","description":"","format":""},"MonthlyPrice":{"type":"float64","description":"","format":""},"ShortName":{"type":"string","description":"","format":""},"StartDate":{"type":"\u0026{time Time}","description":"","format":""},"Title":{"type":"string","description":"","format":""},"Unit":{"type":"string","description":"","format":""},"UserId":{"type":"int64","description":"","format":""}}},"UserMembershipList":{"id":"UserMembershipList","properties":{"Data":{"type":"array","description":"","items":{"$ref":"UserMembershipCombo"},"format":""}}},"UserNameResponse":{"id":"UserNameResponse","properties":{"FirstName":{"type":"string","description":"","format":""},"LastName":{"type":"string","description":"","format":""},"UserId":{"type":"int64","description":"","format":""}}},"UserNamesResponse":{"id":"UserNamesResponse","properties":{"Users":{"type":"array","description":"","items":{"$ref":"UserNameResponse"},"format":""}}}}}}`
    BasePath string= "/api"
)

var rootapi swagger.ResourceListing
var apilist map[string]*swagger.APIDeclaration

func init() {
	if beego.BConfig.WebConfig.EnableDocs {
		err := json.Unmarshal([]byte(Rootinfo), &rootapi)
		if err != nil {
			beego.Error(err)
		}
		err = json.Unmarshal([]byte(Subapi), &apilist)
		if err != nil {
			beego.Error(err)
		}
		beego.GlobalDocAPI["Root"] = rootapi
		for k, v := range apilist {
			for i, a := range v.APIs {
				a.Path = urlReplace(k + a.Path)
				v.APIs[i] = a
			}
			v.BasePath = BasePath
			beego.GlobalDocAPI[strings.Trim(k, "/")] = v
		}
	}
}


func urlReplace(src string) string {
	pt := strings.Split(src, "/")
	for i, p := range pt {
		if len(p) > 0 {
			if p[0] == ':' {
				pt[i] = "{" + p[1:] + "}"
			} else if p[0] == '?' && p[1] == ':' {
				pt[i] = "{" + p[2:] + "}"
			}
		}
	}
	return strings.Join(pt, "/")
}
